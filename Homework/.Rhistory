x = "Weight",
y = "Hindfoot Length") + #adding labels
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
geom_smooth(method = lm, se = T)
deserts %>%
ggplot(aes(x=weight,y=hindfoot_length))+
geom_point(na.rm=T,size=1.2)+
geom_smooth(method=lm,se=F)+
scale_y_log10()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "Hindfoot Length vs. Weight",
x="Weight",
y= "Hindfoot Length")
deserts %>%
group_by(species) %>%
filter(!weight=="NA") %>%
summarize(avg_weight = mean(weight, na.rm = T)) %>%
arrange(desc(avg_weight)) %>%
head(2, species) #displays the two species with highest average weight
#New column with ratio of 'weight' to 'hind_foot'
high_weight_desert <- deserts %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(w_hindfoot_length_ratio = weight / hindfoot_length)
high_weight_desert
high_weight_desert %>%
filter(sex != "NA") %>%
ggplot(aes(x = species, y = w_hindfoot_length_ratio, fill = sex))+
geom_boxplot(alpha = 0.5) #use boxplot because we are finding a range of variables
#deserts %>%
#filter(species_id=="DS" | species_id =="NL") %>%
# filter(!weight=="NA" & !hindfoot_length=="NA" & !sex=="NA") %>% #we use 'and' for the data with NA values for our variables of interest.
# mutate(ratio=weight/hindfoot_length) %>%
# select(ratio,species_id,weight,sex) %>%
# ggplot(aes(x=ratio,fill=sex))+
#geom_boxplot()+
#theme(axis.text.x = element_text(angle=45, hjust=1))+
#labs(title = "Weight to Foot Ratios",
#x="Ratio")
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
options(scipen = 999)
install.packages("gapminder")
library("gapminder")
glimpse(gapminder) #overall structure
dim(gapminder) #dimensions 6var.; 1704 obs.
names(gapminder) #names of columns
miss_var_summary(gapminder)
summary(gapminder)
gapminder <- gapminder %>% clean_names()
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "lavender") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, lifeExp) %>% #selecting only certain columns for ease of viewing
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y = lifeExp, fill = continent)) + #creating the plot
geom_col(position = "dodge") + #creating a bar plot with side by side bars
scale_fill_brewer(palette = "Paired") + #choosing the color scheme
labs(title = "Life Expectancies for Continents in 1952 and 2007",
x = "Year",
y = "Life Expectancy") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5))
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, lifeExp) %>% #selecting only certain columns for ease of viewing
pivot_wider(names_from = year,
values_from = lifeExp)
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, lifeExp) %>% #selecting only certain columns for ease of viewing
pivot_wider(names_from = year,
values_from = lifeExp)
gapminder %>%
mutate(year = as.factor(year)) %>%
filter(year == "1952" | year == "2007")
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "lavender") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
filter(year == "1952" | year == "2007") %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "lavender") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
filter(year == "1952 & year == "2007") %>%
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "lavender") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "violetred4") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4") +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4", alpha = 0.2) +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4", alpha = 0.3) +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4", alpha = 0.6) +
labs(title = "Life Expectancy Over Time",
x = NULL,
y = "Life Expectancy (age)") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4", alpha = 0.6) +
labs(title = "Life Expectancy vs. Time",
x = NULL,
y = "Life Expectancy") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
mutate(year = as.factor(year)) %>%
group_by(year) %>%
ggplot(aes(x = year, y = life_exp)) +
geom_boxplot(fill = "green4", alpha = 0.6) +
labs(title = "Life Expectancy vs. Time",
x = NULL,
y = "Age") +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
filter(year == 1952 | year == 2007) %>%
mutate(year = as.factor(year))
gapminder %>%
filter(year == 1952 | year == 2007) %>%
#mutate(year = as.factor(year))
gapminder %>%
filter(year == 1952 | year == 2007)
#mutate(year = as.factor(year))
gapminder %>%
filter(year == 1952 | year == 2007)
mutate(year = as.factor(year)) %>%  #year changed to fct from int
group_by(year())
gapminder %>%
filter(year == 1952 | year == 2007)
mutate(year = as.factor(year)) %>%
group_by(year())
gapminder %>%
filter(year == 1952 | year == 2007)
mutate(year = as.factor(year)) %>%
group_by(year())
gapminder %>%
filter(year == 1952 | year == 2007)
mutate(year = as.factor(year)) %>%
group_by(year)
gapminder %>%
filter(year == 1952 | year == 2007)
mutate(year = as.factor(year)) %>%
group_by(year)
gapminder %>%
filter(year == 1952 | year == 2007) %>%
mutate(year = as.factor(year)) %>%
group_by(year)
gapminder %>%
filter(year == 1952 | year == 2007) %>%
mutate(year = as.factor(year)) %>% #year changed to fct from int
group_by(year)
gapminder %>%
filter(year == 1952 | year == 2007) %>%
mutate(year = as.factor(year)) %>% #year changed to fct from int
group_by(year) %>%
ggplot(aes(x = year, y = life_exp))+
geom_boxplot(fill="navy")+
labs(title = "Life Expectancy Comparing 1952 to 2007",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
filter(year == 1952 | year == 2007) %>%
mutate(year = as.factor(year)) %>% #year changed to fct from int
group_by(year) %>%
ggplot(aes(x = year, y = life_exp))+
geom_boxplot(fill="navy", alpha = 0.3)+
labs(title = "Life Expectancy Comparing 1952 to 2007",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
group_by(country, year) %>%
summarize(min = min(life_exp),
mean = mean(life_exp),
max = max(life_exp))
View(gapminder)
gapminder %>%
group_by(continent, year) %>%
summarize(min = min(life_exp),
mean = mean(life_exp),
max = max(life_exp))
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~cotinent)+
labs(title = "Life Expectancy from 1952 to 2007 in each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~continent)+
labs(title = "Life Expectancy from 1952 to 2007 in each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~continent)+
labs(title = "Life Expectancy from 1952 to 2007 in Each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~continent)+
labs(title = "Life Expectancy from 1952 to 2007 in Each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))+
coord_flip()
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~continent)+
labs(title = "Life Expectancy from 1952 to 2007 in Each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))
gapminder %>%
ggplot(aes(x = gdp_percap, y = life_exp, color=continent))+
geom_point()+
geom_smooth(method = lm, color = "darkgrey")+
scale_x_log10()+
labs(title = "GDP per Capita vs Life Expectancy",
x = "GDP per Capita",
y = "Life Expectancy")+
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
group_by(country) %>%
summarise(min = min(pop),
max = max(pop),
change = max - min) %>%
arrange(desc(change))
gapminder %>%
filter(country == "China" | country == "India" | country == "United States" | country == "Indonesia" | country == "Brazil") %>%
ggplot(aes(x = year, y = pop)) +
geom_line(aes(color = country)) +
labs(title = "Population Growth",
y = "Population",
x = NULL) +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
filter(country == "China" | country == "India" | country == "United States" | country == "Indonesia" | country == "Brazil") %>%
ggplot(aes(x = year)) +
geom_line(aes(y = gdp_percap, color = country)) +
labs(title = "GDP Per Capita Over Time",
y = "GDP Per Capita",
x = NULL) +
theme(plot.title = element_text(hjust = 0.5))
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "Paired") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5))
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "Paired") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.1))
gapminder %>%
filter(year == "1952" | year == "2007") %>% #filtering for only data from the years 1952 and 2007
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "Paired") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))
gapminder %>%
filter(year == "1952" | year == "2007") %>%
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "BuPu") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))
gapminder %>%
filter(year == "1952" | year == "2007") %>%
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
#coord_flip() +
scale_fill_brewer(palette = "BuPu") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))
gapminder %>%
filter(year == "1952" | year == "2007") %>%
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(population_change = x2007 - x1952) %>%
arrange(desc(population_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = population_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "BuPu") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))
gapminder %>%
filter(year == "1952" | year == "2007") %>%
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(pop_change = x2007 - x1952) %>%
arrange(desc(pop_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = pop_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "BuPu") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))
gapminder %>%
ggplot(aes(x = continent, y = pop))+
geom_boxplot()+
facet_wrap(~year)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
gapminder %>%
ggplot(aes(x = continent, y = pop))+
geom_boxplot()+
facet_wrap(~year)+
labs(title = "Population of Continents Over Time",
y = "Population",
x = NULL)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))
#facet_wrap makes a ribbon of panels by a specified categorical variable. This shows all the continenets through the years and compares their population.
#This is another way to approach the problem!
gapminder %>%
filter(year == "1952" | year == "2007") %>%
select(country, continent, year, pop) %>%
pivot_wider(names_from = year,
values_from = pop) %>%
clean_names() %>%
mutate(pop_change = x2007 - x1952) %>%
arrange(desc(pop_change)) %>%
head(10) %>%
ggplot(aes(x = country, y = pop_change, fill = country)) + #creating the plot
geom_col() + #creating a boxplot
coord_flip() +
scale_fill_brewer(palette = "BuPu") + #choosing the color scheme
labs(title = "Population Growth for Countries between 1952 and 2007",
x = "Country",
y = "Population Change",
fill = "Country") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.8))+
theme(axis.text.x = element_text(angle = 60, hjust=1))
gapminder %>%
group_by(continent, year) %>%
summarize(min = min(life_exp),
mean = mean(life_exp),
max = max(life_exp))
gapminder %>%
mutate(year = as.factor(year)) %>%
ggplot(aes(x = year, y  = life_exp))+
geom_boxplot(fill = "steelblue2")+
facet_wrap(~continent)+
labs(title = "Life Expectancy from 1952 to 2007 in Each Continent",
x = NULL,
y = "Age")+
theme(plot.title = element_text(hjust = 0.5),
axis.title.x = element_text(angle = 60, hjust = 1))+
theme(axis.text.x = element_text(angle = 60, hjust=1))
