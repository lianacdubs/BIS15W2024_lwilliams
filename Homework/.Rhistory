labs(title = "Weight by Species",
x = "Weight",
y = "Species Name")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
geom_point(aes(color = weight), size = 0.5)
deserts %>%
filter(species == "merriami") %>%  #filter by most freq animal
group_by(year) %>%
summarize(n_observations = n())
deserts %>%
count(year) %>%
ggplot(aes(x = year, y = n)) +
geom_point() +
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") +
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) +
geom_smooth(method = lm, se = T) #adding line of best fit and it shows standard error
deserts %>%
ggplot(aes(x = weight, y = hindfoot_length)) + #creating the plot
labs(title = "Hindfoot Length vs Weight",
x = "Weight",
y = "Hindfoot Length") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) + #moving and resizing the lables
geom_smooth(method = lm, se = T)
deserts %>%
ggplot(aes(x = weight, y = hindfoot_length)) + #creating the plot
geom_jitter() + #reducing overplotting
labs(title = "Hindfoot Length vs Weight",
x = "Weight",
y = "Hindfoot Length") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) + #moving and resizing the lables
geom_smooth(method = lm, se = T)
deserts %>%
ggplot(aes(x = weight, y = hindfoot_length)) +
geom_jitter() + #reducing overplotting
labs(title = "Hindfoot Length vs Weight",
x = "Weight",
y = "Hindfoot Length") + #adding labels
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
geom_smooth(method = lm, se = T)
deserts %>%
group_by(species) %>%
summarize(avg_weight = mean(weight, na.rm = T)) %>%
arrange(desc(avg_weight)) %>%
head(2, species) #displays the two species with highest average weight
#New column with ratio of 'weight' to 'hind_foot'
high_weight_desert <- deserts %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(w_hindfoot_length_ratio = weight / hindfoot_length)
high_weight_desert
#New column with ratio of 'weight' to 'hind_foot'
high_weight_desert <- deserts %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(w_hindfoot_length_ratio = weight / hindfoot_length)
deserts
#New column with ratio of 'weight' to 'hind_foot'
high_weight_desert <- deserts %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(w_hindfoot_length_ratio = weight / hindfoot_length)
high_weight_desert
high_weight_desert %>%
filter(sex != "NA") %>%
ggplot(aes(x = species, y = w_hindfoot_length_ratio, fill = sex))+
geom_boxplot(alpha = 0.5)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
deserts <- read_csv("data/surveys_complete.csv") %>% clean_names()
glimpse(deserts) #structure of the data
miss_var_summary(deserts) #The NA's are represented by NA
summary(deserts)
deserts
#the data is tidy!
# each variable has its own column
# each observation has its own row
# each value has its own cell
deserts %>%
summarize(n_genera = n_distinct(genus), #amount of genera in the dataset
n_species = n_distinct(species), #amount of distinct species in dataset
n_total_observations = n()) #total amount of observations
deserts %>%
count(species) %>% #amount of observations for each species
arrange(n)
deserts %>%
count(species) %>%
arrange(desc(n)) #sort most to least observations
#another soln is
deserts %>%
count(taxa) %>%
arrange(desc(n))
deserts %>%
count(taxa) %>%
arrange(desc(n))
deserts %>%
ggplot(aes(x = taxa, fill = taxa)) +
geom_bar() +
scale_y_log10() +
labs(title = "Taxa Represented in Study",
x = "Taxonomic Group",
y = "Individuals") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75)) #move and resize labels
deserts %>%
ggplot(aes(x = taxa, fill = plot_type))+ #this is the modified line to show the prop. of indiv. sampled by 'plot_type'
geom_bar()+
scale_y_log10()+ #fixes viewing for continuous data
labs(title = "Taxa Represented in Study",
x = "Taxa",
y = "Number of Observations",
fill = "Type of Plot") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75))
deserts %>%
ggplot(aes(x = taxa, fill = 'plot_type'))+ #this is the modified line to show the prop. of indiv. sampled by 'plot_type'
geom_bar()+
scale_y_log10()+ #fixes viewing for continuous data
labs(title = "Taxa Represented in Study",
x = "Taxa",
y = "Number of Observations",
fill = "Type of Plot") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75))
deserts %>%
ggplot(aes(x = taxa, fill = plot_type))+ #this is the modified line to show the prop. of indiv. sampled by 'plot_type'
geom_bar()+
scale_y_log10()+ #fixes viewing for continuous data
labs(title = "Taxa Represented in Study",
x = "Taxa",
y = "Number of Observations",
fill = "Type of Plot") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight, fill=species))+
geom_boxplot(na.rm = T, position="dodge")+
scale_y_log10()+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight, fill=species))+
geom_boxplot(na.rm = T, position="dodge")+
coord_flip()+
scale_y_log10()+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight, fill=species))+
geom_boxplot(na.rm = T, position="dodge")+
scale_y_log10()+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight, fill=species))+
geom_boxplot(na.rm = T, position="dodge")+
scale_y_log10()+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(weight != "NA") %>%
unite(species_name, "genus", "species", sep = " ") %>%
ggplot(aes(x = species_name, y = weight))+
geom_boxplot()+
coord_flip()+
labs(title = "Weight by Species",
x = "Weight",
y = "Species Name")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
geom_point(aes(color = weight), size = 0.5) #Modified line of code that adds a scatter plot
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight,y=species))+
geom_point(na.rm = T)+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(weight != "NA") %>%
unite(species_name, "genus", "species", sep = " ") %>%
ggplot(aes(x = species_name, y = weight))+
geom_boxplot()+
coord_flip()+
labs(title = "Weight by Species",
x = "Weight",
y = "Species Name")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
geom_point(aes(color = weight), size = 0.5) #Modified line of code that adds a scatter plot
names(deserts)
deserts %>%
filter(species == "merriami") %>%  #filter by most freq animal
group_by(year) %>%
summarize(n_observations = n()) %>%
ggplot(aes(x = year, y = n)) +
geom_point() +
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") +
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) +
geom_smooth(method = lm, se = T) #adding line of best fit and it shows standard error
deserts %>%
filter(species == "merriami") %>%  #filter by most freq animal
group_by(year) %>%
summarize(n_observations = n()) %>%
ggplot(aes(x = year, y = n)) +
geom_col() +
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) +
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") +
geom_smooth(method = lm, se = T) #adding line of best fit and it shows standard error
deserts %>%
filter(species_id=="DM") %>%
group_by(year) %>%
summarise(n_samples=n()) %>%
ggplot(aes(x=as.factor(year),y=n_samples))+
geom_col()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "DM Observations per Year",
x="Number of Observations",
y= "Year")
deserts %>%
ggplot(aes(x=weight,y=hindfoot_length))+
geom_point(na.rm=T,size=1.2)+
geom_smooth(method=lm,se=F)+
scale_y_log10()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "Weight and Hindfoot Length",
x="Weight",
y= "Hindfoot Length")
deserts %>%
ggplot(aes(x=weight,y=hindfoot_length))+
geom_point(na.rm=T,size=1.2)+
geom_smooth(method=lm,se=F)+
scale_y_log10()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "Hindfoot Length vs. Weight",
x="Weight",
y= "Hindfoot Length")
deserts %>%
group_by(species) %>%
filter(!weight=="NA") %>%
summarize(avg_weight = mean(weight, na.rm = T)) %>%
arrange(desc(avg_weight)) %>%
head(2, species) #displays the two species with highest average weight
deserts %>%
filter(species_id=="DS" | species_id =="NL") %>%
filter(!weight=="NA" & !hindfoot_length=="NA" & !sex=="NA") %>%
mutate(ratio=weight/hindfoot_length) %>%
select(ratio,species_id,weight,sex) %>%
ggplot(aes(x=ratio,fill=sex))+
geom_boxplot()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "Weight to Foot Ratios",
x="Ratio")
deserts%>%
filter(genus=="Dipodomys"&species=="merriami")%>%
ggplot(aes(x=year))+
geom_bar()
deserts %>%
filter(species_id=="DM") %>%
group_by(year) %>%
summarise(n_samples=n()) %>%
ggplot(aes(x=as.factor(year),y=n_samples))+
geom_col()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "DM Observations per Year",
x="Number of Observations",
y= "Year")
View(deserts)
deserts %>%
filter(genus == "Zonotrichia" & species== "leucophrys") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10() #for ease of viewing
View(deserts)
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10() #for ease of viewing
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "# of Observations")+
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")+
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")+
coord_flip()
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")
deserts %>%
count(year) %>% #creating counts of observations by year
ggplot(aes(x = year, y = n)) + #creating the plot
geom_point() + #creating the scatterplot
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) + #resizing and moving labels
geom_smooth(method = lm, se = T) #adding line of best fit
deserts %>%
count(year) %>% #creating counts of observations by year
ggplot(aes(x = year, y = n)) + #creating the plot
geom_point() + #creating the scatterplot
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) + #resizing and moving labels
geom_smooth(method = lm, se = T) #adding line of best fit
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(naniar)
deserts <- read_csv("data/surveys_complete.csv") %>% clean_names()
glimpse(deserts) #structure of the data
miss_var_summary(deserts) #The NA's are represented by NA
summary(deserts)
deserts
#the data is tidy!
# each variable has its own column
# each observation has its own row
# each value has its own cell
deserts %>%
summarize(n_genera = n_distinct(genus), #amount of genera in the dataset
n_species = n_distinct(species), #amount of distinct species in dataset
n_total_observations = n()) #total amount of observations
deserts %>%
count(species) %>% #amount of observations for each species
arrange(n)
deserts %>%
count(species) %>%
arrange(desc(n)) #sort most to least observations
deserts %>%
count(taxa) %>%
arrange(desc(n))
#another way to solve
#taxa_prop <- deserts %>%
#tabyl(taxa)
#taxa_prop
deserts %>%
ggplot(aes(x = taxa, fill = taxa)) +
geom_bar() +
scale_y_log10() +
labs(title = "Taxa Represented in Study",
x = "Taxonomic Group",
y = "Individuals") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75)) #move and resize labels
deserts %>%
ggplot(aes(x = taxa, fill = plot_type))+ #this is the modified line to show the prop. of indiv. sampled by 'plot_type'
geom_bar()+
scale_y_log10()+ #fixes viewing for continuous data
labs(title = "Taxa Represented in Study",
x = "Taxa",
y = "Number of Observations",
fill = "Type of Plot") +
theme(plot.title = element_text(size = rel(1.5), hjust = 0.75))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight, fill=species))+
geom_boxplot(na.rm = T, position="dodge")+
scale_y_log10()+
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(weight != "NA") %>%
unite(species_name, "genus", "species", sep = " ") %>%
ggplot(aes(x = species_name, y = weight))+
geom_boxplot()+
coord_flip()+
labs(title = "Weight by Species",
x = "Weight",
y = "Species Name")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))
deserts %>%
filter(!weight=="NA") %>%
ggplot(aes(x=weight,y=species))+
geom_point(na.rm = T)+ #geom_point is used here instead!
labs(title = "Weight by Species",
x= "Weight",
y= "Species")+
theme(plot.title=element_text(size=rel(1.5),hjust=0.5))
deserts %>%
filter(weight != "NA") %>%
unite(species_name, "genus", "species", sep = " ") %>%
ggplot(aes(x = species_name, y = weight))+
geom_boxplot()+
coord_flip()+
labs(title = "Weight by Species",
x = "Weight",
y = "Species Name")+
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5))+
geom_point(aes(color = weight), size = 0.5) #Modified line of code that adds a scatter plot
names(deserts)
deserts %>%
count(year) %>% #creating counts of observations by year
ggplot(aes(x = year, y = n)) + #creating the plot
geom_point() + #creating the scatterplot
labs(title = "Number of Observations by Year",
x = "Year",
y = "Number of Observations") + #adding labels
theme(plot.title = element_text(size = rel(1.3), hjust = 0.5)) + #resizing and moving labels
geom_smooth(method = lm, se = T) #adding line of best fit
deserts %>%
filter(species_id=="DM") %>%
group_by(year) %>%
summarise(n_samples=n()) %>%
ggplot(aes(x=as.factor(year),y=n_samples))+
geom_col()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "DM Observations per Year",
x="Number of Observations",
y= "Year")
deserts %>%
ggplot(aes(x = weight, y = hindfoot_length)) +
geom_jitter() + #reducing overplotting
labs(title = "Hindfoot Length vs Weight",
x = "Weight",
y = "Hindfoot Length") + #adding labels
theme(plot.title = element_text(size = rel(1.5), hjust = 0.5)) +
geom_smooth(method = lm, se = T)
deserts %>%
ggplot(aes(x=weight,y=hindfoot_length))+
geom_point(na.rm=T,size=1.2)+
geom_smooth(method=lm,se=F)+
scale_y_log10()+
theme(axis.text.x = element_text(angle=45, hjust=1))+
labs(title = "Hindfoot Length vs. Weight",
x="Weight",
y= "Hindfoot Length")
deserts %>%
group_by(species) %>%
filter(!weight=="NA") %>%
summarize(avg_weight = mean(weight, na.rm = T)) %>%
arrange(desc(avg_weight)) %>%
head(2, species) #displays the two species with highest average weight
#New column with ratio of 'weight' to 'hind_foot'
high_weight_desert <- deserts %>%
filter(species == "albigula" | species == "spectabilis") %>%
mutate(w_hindfoot_length_ratio = weight / hindfoot_length)
high_weight_desert
high_weight_desert %>%
filter(sex != "NA") %>%
ggplot(aes(x = species, y = w_hindfoot_length_ratio, fill = sex))+
geom_boxplot(alpha = 0.5) #use boxplot because we are finding a range of variables
#deserts %>%
#filter(species_id=="DS" | species_id =="NL") %>%
# filter(!weight=="NA" & !hindfoot_length=="NA" & !sex=="NA") %>% #we use 'and' for the data with NA values for our variables of interest.
# mutate(ratio=weight/hindfoot_length) %>%
# select(ratio,species_id,weight,sex) %>%
# ggplot(aes(x=ratio,fill=sex))+
#geom_boxplot()+
#theme(axis.text.x = element_text(angle=45, hjust=1))+
#labs(title = "Weight to Foot Ratios",
#x="Ratio")
deserts %>%
filter(genus == "Sigmodon" & species== "hispidus") %>%
filter(sex!="NA") %>%
ggplot(aes(year, fill=sex))+
geom_bar(position = "dodge")+
scale_y_log10()+ #for ease of viewing
labs(title = "Sigmodon hispidus vs. Time",
x = "Year",
y = "Count")
